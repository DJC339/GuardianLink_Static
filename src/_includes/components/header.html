{% set resources = [] %}

<header class="relative w-full">
  <div class="relative mx-auto flex w-full max-w-6xl items-center justify-between gap-3 px-4 sm:px-6 lg:px-8 py-4 md:gap-6">
    <div class="flex items-center gap-3">
      <a class="flex items-center gap-3 rounded-xl px-2 py-1 shadow-[0_8px_20px_rgba(27,49,76,0.2),0_2px_6px_rgba(0,0,0,0.08)] transition hover:-translate-y-0.5 hover:shadow-[0_10px_24px_rgba(27,49,76,0.25),0_3px_8px_rgba(0,0,0,0.12)]" href="/">
        <img
          src="/assets/images/GuardianLogoTransparent.png"
          alt="{{ site.title }}"
          class="h-10 w-auto rounded-lg shadow-md shadow-brand-900/20"
          loading="lazy"
          decoding="async"
        />
        <div class="flex flex-col leading-tight">
          <span class="text-base font-semibold text-slate-900">{{ site.title }}</span>
          <span class="text-[11px] uppercase tracking-[0.25em] text-brand-700">Secure, volunteer-driven help</span>
        </div>
      </a>
    </div>

    <div class="hidden items-center gap-6 md:flex flex-1 justify-end">
      <div class="flex items-center gap-3">
        <a class="btn-primary" href="/">Home</a>
        <a class="btn-primary" href="/resources/">Resources</a>
        <a class="btn-primary" href="/events/">Events</a>
      </div>
      <a class="btn-primary ml-6" href="/contact/">Contact Us</a>
    </div>

    <button
      id="nav-toggle"
      type="button"
      class="inline-flex items-center gap-2 rounded-full border border-brand-600 px-3 py-2 text-sm font-semibold text-brand-700 transition hover:bg-brand-50 md:hidden"
      aria-controls="mobile-drawer"
      aria-expanded="false"
      aria-label="Toggle navigation"
    >
      <span data-nav-label>Menu</span>
      <span aria-hidden="true" data-nav-icon>|||</span>
    </button>
  </div>

  <div
    id="mobile-drawer"
    class="hidden fixed inset-0 z-40 bg-slate-900/60 backdrop-blur-sm md:hidden"
    aria-hidden="true"
  >
    <div class="absolute inset-y-0 left-0 w-72 max-w-[90%] bg-white shadow-xl shadow-brand-900/10">
      <div class="flex items-center justify-between px-4 py-4 border-b border-slate-200">
        <div class="flex flex-col">
          <span class="text-sm font-semibold text-slate-900">{{ site.title }}</span>
          <span class="text-[10px] uppercase tracking-[0.2em] text-brand-700">Cyber volunteers</span>
        </div>
        <button
          id="drawer-close"
          type="button"
          class="rounded-full border border-slate-300 px-3 py-1 text-xs font-semibold text-slate-700"
          aria-label="Close navigation"
        >
          Close
        </button>
      </div>
      <div class="flex flex-col gap-2 px-4 py-4 text-sm font-semibold text-slate-800">
        {% for item in navigation %}
          {% set isActive = page and page.url and page.url == item.url %}
          <a
            class="rounded-lg px-3 py-2 transition hover:bg-brand-50 {% if isActive %}text-brand-800 bg-brand-100{% endif %}"
            href="{{ item.url }}"
            {% if isActive %}aria-current="page"{% endif %}
          >
            {{ item.title }}
          </a>
        {% endfor %}
        <div class="pt-2 border-t border-slate-200">
          <p class="text-xs uppercase tracking-[0.15em] text-brand-700 mb-2">Resources</p>
          {% for res in resources %}
            <a class="block rounded-lg px-3 py-2 text-sm font-semibold text-slate-800 transition hover:bg-brand-50" href="{{ res.url }}">
              {{ res.title }}
            </a>
          {% endfor %}
        </div>
        <div class="pt-3 flex flex-col gap-2">
          <a class="btn-secondary justify-center" href="/">Home</a>
          <a class="btn-secondary justify-center" href="/contact/">Contact Us</a>
          <a class="btn-secondary justify-center" href="/resources/">Resources</a>
          <a class="btn-secondary justify-center" href="/profiles/volunteers/">Volunteer profiles</a>
          <a class="btn-secondary justify-center" href="/profiles/ngos/">NGO profiles</a>
        </div>
      </div>
    </div>
  </div>
</header>
